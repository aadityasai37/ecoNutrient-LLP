{"version":3,"sources":["turbopack:///[project]/node_modules/next/navigation.js","turbopack:///[project]/src/app/checkout/page.tsx","turbopack:///[project]/src/app/checkout/CheckoutForm.tsx"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n","\"use client\";\nimport { Suspense } from \"react\";\nimport CheckoutForm from \"./CheckoutForm\";\n\nexport default function CheckoutPage() {\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <CheckoutForm />\n    </Suspense>\n  );\n}\n","\"use client\";\nimport { useCartStore } from \"../../store/cart\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useEffect } from \"react\";\n\nexport default function CheckoutForm() {\n  const items = useCartStore((s) => s.items);\n  const router = useRouter();\n  const qs = useSearchParams();\n\n  useEffect(() => {\n    // if coming from Buy Now, ensure at least one item exists\n    if (qs.get(\"buy\") && items.length === 0) {\n      router.push(\"/\");\n    }\n  }, [qs, items, router]);\n\n  async function onSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    const form = new FormData(e.currentTarget);\n    const res = await fetch(\"/api/checkout\", { method: \"POST\", body: form });\n    const data = await res.json();\n    // data.redirectUrl represents payment gateway session\n    router.push(data.redirectUrl);\n  }\n\n  return (\n    <main className=\"container py-8\">\n      <h1 className=\"text-2xl font-semibold mb-6\">Checkout</h1>\n      <form onSubmit={onSubmit} className=\"grid md:grid-cols-2 gap-6\">\n        <div className=\"space-y-4\">\n          <input\n            name=\"name\"\n            required\n            placeholder=\"Full Name\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n          <input\n            name=\"email\"\n            type=\"email\"\n            required\n            placeholder=\"Email\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n          <input\n            name=\"phone\"\n            required\n            placeholder=\"Phone\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n          <input\n            name=\"address1\"\n            required\n            placeholder=\"Address Line 1\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n          <input\n            name=\"address2\"\n            placeholder=\"Address Line 2\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n          <input\n            name=\"city\"\n            required\n            placeholder=\"City\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n          <input\n            name=\"state\"\n            required\n            placeholder=\"State\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n          <input\n            name=\"pincode\"\n            required\n            placeholder=\"Pincode\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n          <input\n            name=\"country\"\n            defaultValue=\"India\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n          <textarea\n            name=\"notes\"\n            placeholder=\"Order notes\"\n            className=\"w-full border rounded px-3 py-2\"\n          />\n        </div>\n        <div className=\"p-4 border rounded\">\n          <h2 className=\"font-medium mb-3\">Order Summary</h2>\n          <ul className=\"space-y-2\">\n            {items.map((it) => (\n              <li key={it.id + it.variant} className=\"flex justify-between\">\n                <span>\n                  {it.name} — {it.variant} × {it.qty}\n                </span>\n                <span>₹{it.price * it.qty}</span>\n              </li>\n            ))}\n          </ul>\n          <button\n            type=\"submit\"\n            className=\"mt-4 w-full px-6 py-3 rounded-md bg-brand text-white\"\n          >\n            Proceed to Pay\n          </button>\n        </div>\n      </form>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}