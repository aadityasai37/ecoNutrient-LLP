{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ecoNutrient-LLP/econutrient/src/store/cart.ts"],"sourcesContent":["\"use client\";\nimport { create } from \"zustand\";\nimport { useEffect, useState } from \"react\";\n\ntype Variant = \"1kg\" | \"500g\";\nexport type CartItem = {\n  id: string;\n  name: string;\n  variant: Variant;\n  price: number;\n  qty: number;\n};\n\ntype CartState = {\n  items: CartItem[];\n  addItem: (item: CartItem) => void;\n  removeItem: (id: string, variant: Variant) => void;\n  updateQty: (id: string, variant: Variant, qty: number) => void;\n  clear: () => void;\n  totalQty: () => number;\n  totalAmount: () => number;\n};\n\nconst KEY = \"econutrient_cart\";\nconst TSKEY = \"econutrient_cart_ts\";\nconst TTL_MS = 24 * 60 * 60 * 1000;\n\nfunction load(): CartItem[] {\n  if (typeof window === \"undefined\") return [];\n  try {\n    const ts = localStorage.getItem(TSKEY);\n    const now = Date.now();\n    if (ts && now - Number(ts) > TTL_MS) {\n      localStorage.removeItem(KEY);\n      localStorage.removeItem(TSKEY);\n      return [];\n    }\n    const raw = localStorage.getItem(KEY);\n    return raw ? (JSON.parse(raw) as CartItem[]) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction save(items: CartItem[]) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(KEY, JSON.stringify(items));\n  localStorage.setItem(TSKEY, String(Date.now()));\n}\n\nexport const useCartStore = create<CartState>((set, get) => ({\n  items: [],\n  addItem: (item) =>\n    set((state) => {\n      const idx = state.items.findIndex(\n        (it) => it.id === item.id && it.variant === item.variant\n      );\n      let items = [...state.items];\n      if (idx > -1) {\n        items[idx] = { ...items[idx], qty: items[idx].qty + item.qty };\n      } else {\n        items.push(item);\n      }\n      save(items);\n      return { items };\n    }),\n  removeItem: (id, variant) =>\n    set((state) => {\n      const items = state.items.filter((it) => !(it.id === id && it.variant === variant));\n      save(items);\n      return { items };\n    }),\n  updateQty: (id, variant, qty) =>\n    set((state) => {\n      const items = state.items.map((it) =>\n        it.id === id && it.variant === variant ? { ...it, qty } : it\n      );\n      save(items);\n      return { items };\n    }),\n  clear: () => {\n    save([]);\n    return { items: [] };\n  },\n  totalQty: () => get().items.reduce((sum, it) => sum + it.qty, 0),\n  totalAmount: () => get().items.reduce((sum, it) => sum + it.price * it.qty, 0),\n}));\n\nexport function useCartHydration() {\n  const [hydrated, setHydrated] = useState(false);\n  const setState = useCartStore.setState;\n  useEffect(() => {\n    setState({ items: load() });\n    setHydrated(true);\n  }, [setState]);\n  return hydrated;\n}\n"],"names":[],"mappings":";;;;;;AACA;AACA;AAFA;;;AAuBA,MAAM,MAAM;AACZ,MAAM,QAAQ;AACd,MAAM,SAAS,KAAK,KAAK,KAAK;AAE9B,SAAS;IACP,wCAAmC,OAAO,EAAE;;;AAc9C;AAEA,SAAS,KAAK,KAAiB;IAC7B,wCAAmC;;;AAGrC;AAEO,MAAM,eAAe,IAAA,kJAAM,EAAY,CAAC,KAAK,MAAQ,CAAC;QAC3D,OAAO,EAAE;QACT,SAAS,CAAC,OACR,IAAI,CAAC;gBACH,MAAM,MAAM,MAAM,KAAK,CAAC,SAAS,CAC/B,CAAC,KAAO,GAAG,EAAE,KAAK,KAAK,EAAE,IAAI,GAAG,OAAO,KAAK,KAAK,OAAO;gBAE1D,IAAI,QAAQ;uBAAI,MAAM,KAAK;iBAAC;gBAC5B,IAAI,MAAM,CAAC,GAAG;oBACZ,KAAK,CAAC,IAAI,GAAG;wBAAE,GAAG,KAAK,CAAC,IAAI;wBAAE,KAAK,KAAK,CAAC,IAAI,CAAC,GAAG,GAAG,KAAK,GAAG;oBAAC;gBAC/D,OAAO;oBACL,MAAM,IAAI,CAAC;gBACb;gBACA,KAAK;gBACL,OAAO;oBAAE;gBAAM;YACjB;QACF,YAAY,CAAC,IAAI,UACf,IAAI,CAAC;gBACH,MAAM,QAAQ,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,KAAO,CAAC,CAAC,GAAG,EAAE,KAAK,MAAM,GAAG,OAAO,KAAK,OAAO;gBACjF,KAAK;gBACL,OAAO;oBAAE;gBAAM;YACjB;QACF,WAAW,CAAC,IAAI,SAAS,MACvB,IAAI,CAAC;gBACH,MAAM,QAAQ,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,KAC7B,GAAG,EAAE,KAAK,MAAM,GAAG,OAAO,KAAK,UAAU;wBAAE,GAAG,EAAE;wBAAE;oBAAI,IAAI;gBAE5D,KAAK;gBACL,OAAO;oBAAE;gBAAM;YACjB;QACF,OAAO;YACL,KAAK,EAAE;YACP,OAAO;gBAAE,OAAO,EAAE;YAAC;QACrB;QACA,UAAU,IAAM,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAO,MAAM,GAAG,GAAG,EAAE;QAC9D,aAAa,IAAM,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAO,MAAM,GAAG,KAAK,GAAG,GAAG,GAAG,EAAE;IAC9E,CAAC;AAEM,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,WAAW,aAAa,QAAQ;IACtC,IAAA,kNAAS,EAAC;QACR,SAAS;YAAE,OAAO;QAAO;QACzB,YAAY;IACd,GAAG;QAAC;KAAS;IACb,OAAO;AACT","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ecoNutrient-LLP/econutrient/src/app/cart/page.tsx"],"sourcesContent":["\"use client\";\nimport { useCartStore } from \"../../store/cart\";\nimport Link from \"next/link\";\n\nexport default function CartPage() {\n  const items = useCartStore((s) => s.items);\n  const removeItem = useCartStore((s) => s.removeItem);\n  const updateQty = useCartStore((s) => s.updateQty);\n  const totalAmount = useCartStore((s) => s.totalAmount);\n\n  return (\n    <main className=\"container py-8\">\n      <h1 className=\"text-2xl font-semibold mb-6\">Your Cart</h1>\n      {items.length === 0 ? (\n        <p>Your cart is empty.</p>\n      ) : (\n        <>\n          <ul className=\"space-y-4\">\n            {items.map((it) => (\n              <li\n                key={it.id + it.variant}\n                className=\"flex items-center justify-between border rounded p-4\"\n              >\n                <div>\n                  <div className=\"font-medium\">\n                    {it.name} — {it.variant}\n                  </div>\n                  <div className=\"text-sm text-neutral-600\">₹{it.price}</div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <input\n                    type=\"number\"\n                    min={1}\n                    value={it.qty}\n                    onChange={(e) =>\n                      updateQty(it.id, it.variant as any, Number(e.target.value))\n                    }\n                    className=\"w-16 border rounded px-2 py-1\"\n                  />\n                  <button\n                    onClick={() => removeItem(it.id, it.variant as any)}\n                    className=\"text-red-600 hover:underline\"\n                  >\n                    Remove\n                  </button>\n                </div>\n              </li>\n            ))}\n          </ul>\n          <div className=\"mt-6 flex items-center justify-between\">\n            <div className=\"text-xl font-semibold\">Total: ₹{totalAmount()}</div>\n            <Link href=\"/checkout\" className=\"px-6 py-3 rounded-md bg-brand text-white\">\n              Checkout\n            </Link>\n          </div>\n        </>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,QAAQ,IAAA,oIAAY,EAAC,CAAC,IAAM,EAAE,KAAK;IACzC,MAAM,aAAa,IAAA,oIAAY,EAAC,CAAC,IAAM,EAAE,UAAU;IACnD,MAAM,YAAY,IAAA,oIAAY,EAAC,CAAC,IAAM,EAAE,SAAS;IACjD,MAAM,cAAc,IAAA,oIAAY,EAAC,CAAC,IAAM,EAAE,WAAW;IAErD,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAA8B;;;;;;YAC3C,MAAM,MAAM,KAAK,kBAChB,8OAAC;0BAAE;;;;;qCAEH;;kCACE,8OAAC;wBAAG,WAAU;kCACX,MAAM,GAAG,CAAC,CAAC,mBACV,8OAAC;gCAEC,WAAU;;kDAEV,8OAAC;;0DACC,8OAAC;gDAAI,WAAU;;oDACZ,GAAG,IAAI;oDAAC;oDAAI,GAAG,OAAO;;;;;;;0DAEzB,8OAAC;gDAAI,WAAU;;oDAA2B;oDAAE,GAAG,KAAK;;;;;;;;;;;;;kDAEtD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,MAAK;gDACL,KAAK;gDACL,OAAO,GAAG,GAAG;gDACb,UAAU,CAAC,IACT,UAAU,GAAG,EAAE,EAAE,GAAG,OAAO,EAAS,OAAO,EAAE,MAAM,CAAC,KAAK;gDAE3D,WAAU;;;;;;0DAEZ,8OAAC;gDACC,SAAS,IAAM,WAAW,GAAG,EAAE,EAAE,GAAG,OAAO;gDAC3C,WAAU;0DACX;;;;;;;;;;;;;+BAtBE,GAAG,EAAE,GAAG,GAAG,OAAO;;;;;;;;;;kCA6B7B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;oCAAwB;oCAAS;;;;;;;0CAChD,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAA2C;;;;;;;;;;;;;;;;;;;;AAQxF","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ecoNutrient-LLP/econutrient/node_modules/zustand/esm/vanilla.mjs"],"sourcesContent":["const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n"],"names":[],"mappings":";;;;AAAA,MAAM,kBAAkB,CAAC;IACvB,IAAI;IACJ,MAAM,YAAY,aAAa,GAAG,IAAI;IACtC,MAAM,WAAW,CAAC,SAAS;QACzB,MAAM,YAAY,OAAO,YAAY,aAAa,QAAQ,SAAS;QACnE,IAAI,CAAC,OAAO,EAAE,CAAC,WAAW,QAAQ;YAChC,MAAM,gBAAgB;YACtB,QAAQ,CAAC,WAAW,OAAO,UAAU,OAAO,cAAc,YAAY,cAAc,IAAI,IAAI,YAAY,OAAO,MAAM,CAAC,CAAC,GAAG,OAAO;YACjI,UAAU,OAAO,CAAC,CAAC,WAAa,SAAS,OAAO;QAClD;IACF;IACA,MAAM,WAAW,IAAM;IACvB,MAAM,kBAAkB,IAAM;IAC9B,MAAM,YAAY,CAAC;QACjB,UAAU,GAAG,CAAC;QACd,OAAO,IAAM,UAAU,MAAM,CAAC;IAChC;IACA,MAAM,MAAM;QAAE;QAAU;QAAU;QAAiB;IAAU;IAC7D,MAAM,eAAe,QAAQ,YAAY,UAAU,UAAU;IAC7D,OAAO;AACT;AACA,MAAM,cAAe,CAAC,cAAgB,cAAc,gBAAgB,eAAe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ecoNutrient-LLP/econutrient/node_modules/zustand/esm/react.mjs"],"sourcesContent":["import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\nexport { create, useStore };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,WAAW,CAAC,MAAQ;AAC1B,SAAS,SAAS,GAAG,EAAE,WAAW,QAAQ;IACxC,MAAM,QAAQ,gNAAK,CAAC,oBAAoB,CACtC,IAAI,SAAS,EACb,gNAAK,CAAC,WAAW,CAAC,IAAM,SAAS,IAAI,QAAQ,KAAK;QAAC;QAAK;KAAS,GACjE,gNAAK,CAAC,WAAW,CAAC,IAAM,SAAS,IAAI,eAAe,KAAK;QAAC;QAAK;KAAS;IAE1E,gNAAK,CAAC,aAAa,CAAC;IACpB,OAAO;AACT;AACA,MAAM,aAAa,CAAC;IAClB,MAAM,MAAM,IAAA,yJAAW,EAAC;IACxB,MAAM,gBAAgB,CAAC,WAAa,SAAS,KAAK;IAClD,OAAO,MAAM,CAAC,eAAe;IAC7B,OAAO;AACT;AACA,MAAM,SAAU,CAAC,cAAgB,cAAc,WAAW,eAAe","ignoreList":[0],"debugId":null}}]
}