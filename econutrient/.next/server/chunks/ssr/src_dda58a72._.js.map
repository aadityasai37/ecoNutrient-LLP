{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ecoNutrient-LLP/econutrient/src/store/cart.ts"],"sourcesContent":["\"use client\";\nimport { create } from \"zustand\";\nimport { useEffect, useState } from \"react\";\n\ntype Variant = \"1kg\" | \"500g\";\nexport type CartItem = {\n  id: string;\n  name: string;\n  variant: Variant;\n  price: number;\n  qty: number;\n};\n\ntype CartState = {\n  items: CartItem[];\n  addItem: (item: CartItem) => void;\n  removeItem: (id: string, variant: Variant) => void;\n  updateQty: (id: string, variant: Variant, qty: number) => void;\n  clear: () => void;\n  totalQty: () => number;\n  totalAmount: () => number;\n};\n\nconst KEY = \"econutrient_cart\";\nconst TSKEY = \"econutrient_cart_ts\";\nconst TTL_MS = 24 * 60 * 60 * 1000;\n\nfunction load(): CartItem[] {\n  if (typeof window === \"undefined\") return [];\n  try {\n    const ts = localStorage.getItem(TSKEY);\n    const now = Date.now();\n    if (ts && now - Number(ts) > TTL_MS) {\n      localStorage.removeItem(KEY);\n      localStorage.removeItem(TSKEY);\n      return [];\n    }\n    const raw = localStorage.getItem(KEY);\n    return raw ? (JSON.parse(raw) as CartItem[]) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction save(items: CartItem[]) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(KEY, JSON.stringify(items));\n  localStorage.setItem(TSKEY, String(Date.now()));\n}\n\nexport const useCartStore = create<CartState>((set, get) => ({\n  items: [],\n  addItem: (item) =>\n    set((state) => {\n      const idx = state.items.findIndex(\n        (it) => it.id === item.id && it.variant === item.variant\n      );\n      let items = [...state.items];\n      if (idx > -1) {\n        items[idx] = { ...items[idx], qty: items[idx].qty + item.qty };\n      } else {\n        items.push(item);\n      }\n      save(items);\n      return { items };\n    }),\n  removeItem: (id, variant) =>\n    set((state) => {\n      const items = state.items.filter((it) => !(it.id === id && it.variant === variant));\n      save(items);\n      return { items };\n    }),\n  updateQty: (id, variant, qty) =>\n    set((state) => {\n      const items = state.items.map((it) =>\n        it.id === id && it.variant === variant ? { ...it, qty } : it\n      );\n      save(items);\n      return { items };\n    }),\n  clear: () => {\n    save([]);\n    return { items: [] };\n  },\n  totalQty: () => get().items.reduce((sum, it) => sum + it.qty, 0),\n  totalAmount: () => get().items.reduce((sum, it) => sum + it.price * it.qty, 0),\n}));\n\nexport function useCartHydration() {\n  const [hydrated, setHydrated] = useState(false);\n  const setState = useCartStore.setState;\n  useEffect(() => {\n    setState({ items: load() });\n    setHydrated(true);\n  }, [setState]);\n  return hydrated;\n}\n"],"names":[],"mappings":";;;;;;AACA;AACA;AAFA;;;AAuBA,MAAM,MAAM;AACZ,MAAM,QAAQ;AACd,MAAM,SAAS,KAAK,KAAK,KAAK;AAE9B,SAAS;IACP,wCAAmC,OAAO,EAAE;;;AAc9C;AAEA,SAAS,KAAK,KAAiB;IAC7B,wCAAmC;;;AAGrC;AAEO,MAAM,eAAe,IAAA,kJAAM,EAAY,CAAC,KAAK,MAAQ,CAAC;QAC3D,OAAO,EAAE;QACT,SAAS,CAAC,OACR,IAAI,CAAC;gBACH,MAAM,MAAM,MAAM,KAAK,CAAC,SAAS,CAC/B,CAAC,KAAO,GAAG,EAAE,KAAK,KAAK,EAAE,IAAI,GAAG,OAAO,KAAK,KAAK,OAAO;gBAE1D,IAAI,QAAQ;uBAAI,MAAM,KAAK;iBAAC;gBAC5B,IAAI,MAAM,CAAC,GAAG;oBACZ,KAAK,CAAC,IAAI,GAAG;wBAAE,GAAG,KAAK,CAAC,IAAI;wBAAE,KAAK,KAAK,CAAC,IAAI,CAAC,GAAG,GAAG,KAAK,GAAG;oBAAC;gBAC/D,OAAO;oBACL,MAAM,IAAI,CAAC;gBACb;gBACA,KAAK;gBACL,OAAO;oBAAE;gBAAM;YACjB;QACF,YAAY,CAAC,IAAI,UACf,IAAI,CAAC;gBACH,MAAM,QAAQ,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,KAAO,CAAC,CAAC,GAAG,EAAE,KAAK,MAAM,GAAG,OAAO,KAAK,OAAO;gBACjF,KAAK;gBACL,OAAO;oBAAE;gBAAM;YACjB;QACF,WAAW,CAAC,IAAI,SAAS,MACvB,IAAI,CAAC;gBACH,MAAM,QAAQ,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,KAC7B,GAAG,EAAE,KAAK,MAAM,GAAG,OAAO,KAAK,UAAU;wBAAE,GAAG,EAAE;wBAAE;oBAAI,IAAI;gBAE5D,KAAK;gBACL,OAAO;oBAAE;gBAAM;YACjB;QACF,OAAO;YACL,KAAK,EAAE;YACP,OAAO;gBAAE,OAAO,EAAE;YAAC;QACrB;QACA,UAAU,IAAM,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAO,MAAM,GAAG,GAAG,EAAE;QAC9D,aAAa,IAAM,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAO,MAAM,GAAG,KAAK,GAAG,GAAG,GAAG,EAAE;IAC9E,CAAC;AAEM,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,WAAW,aAAa,QAAQ;IACtC,IAAA,kNAAS,EAAC;QACR,SAAS;YAAE,OAAO;QAAO;QACzB,YAAY;IACd,GAAG;QAAC;KAAS;IACb,OAAO;AACT","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/ecoNutrient-LLP/econutrient/src/app/product/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\nimport { useCartStore } from \"../../../store/cart\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\n\ntype Variant = \"1kg\" | \"500g\";\nconst variants: { key: Variant; label: string; price: number }[] = [\n  { key: \"1kg\", label: \"1 Kg\", price: 359 },\n  { key: \"500g\", label: \"500 g\", price: 189 },\n];\n\ninterface ProductPageProps {\n  params: {\n    id: string;\n  };\n}\n\nexport default function ProductPage({ params }: ProductPageProps) {\n  const addItem = useCartStore((s) => s.addItem);\n  const router = useRouter();\n  const [variant, setVariant] = useState<Variant>(\"1kg\");\n  const [selectedImage, setSelectedImage] = useState(0);\n\n  const price = variants.find((v) => v.key === variant)!.price;\n\n  const productImages = [\n    \"/Sattu Images/Sattu 1.png\",\n    \"/Sattu Images/Sattu 2.png\",\n    \"/Sattu Images/Sattu 3.png\",\n    \"/Sattu Images/Sattu 4.jpg\"\n  ];\n\n  const productDetails = {\n    name: \"Sattu\",\n    description: \"Premium quality Sattu made from roasted gram flour, rich in protein and essential nutrients. Perfect for traditional Indian beverages and healthy recipes.\",\n    features: [\n      \"High in protein and fiber\",\n      \"Rich in essential minerals\",\n      \"No preservatives or additives\",\n      \"Traditionally stone-ground\",\n      \"Perfect for Sattu drink and recipes\"\n    ],\n    nutrition: {\n      protein: \"22g per 100g\",\n      fiber: \"8g per 100g\",\n      iron: \"4.5mg per 100g\",\n      calcium: \"80mg per 100g\"\n    }\n  };\n\n  return (\n    <div className=\"container py-8\">\n      <div className=\"mb-6\">\n        <Link\n          href=\"/\"\n          className=\"text-brand hover:underline\"\n        >\n          ← Back to Home\n        </Link>\n      </div>\n\n      <div className=\"grid lg:grid-cols-2 gap-12\">\n        {/* Product Images */}\n        <div className=\"space-y-4\">\n          <div className=\"aspect-square bg-neutral-100 rounded-lg overflow-hidden\">\n            <Image\n              src={productImages[selectedImage]}\n              alt={productDetails.name}\n              width={600}\n              height={600}\n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n          <div className=\"grid grid-cols-4 gap-2\">\n            {productImages.map((image, index) => (\n              <button\n                key={index}\n                onClick={() => setSelectedImage(index)}\n                className={`aspect-square bg-neutral-100 rounded-lg overflow-hidden border-2 ${\n                  selectedImage === index ? \"border-brand\" : \"border-transparent\"\n                }`}\n              >\n                <Image\n                  src={image}\n                  alt={`${productDetails.name} ${index + 1}`}\n                  width={150}\n                  height={150}\n                  className=\"w-full h-full object-cover\"\n                />\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Product Details */}\n        <div className=\"space-y-6\">\n          <div>\n            <h1 className=\"text-4xl font-bold mb-2\">{productDetails.name}</h1>\n            <p className=\"text-neutral-600 text-lg\">{productDetails.description}</p>\n          </div>\n\n          {/* Variant Selection */}\n          <div>\n            <h3 className=\"text-lg font-semibold mb-3\">Select Size</h3>\n            <div className=\"flex gap-2\">\n              {variants.map((v) => (\n                <button\n                  key={v.key}\n                  onClick={() => setVariant(v.key)}\n                  className={`px-4 py-2 rounded border ${\n                    variant === v.key\n                      ? \"border-brand text-brand bg-brand/10\"\n                      : \"border-neutral-300 hover:border-brand\"\n                  }`}\n                >\n                  {v.label} - ₹{v.price}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Features */}\n          <div>\n            <h3 className=\"text-lg font-semibold mb-3\">Key Features</h3>\n            <ul className=\"space-y-2\">\n              {productDetails.features.map((feature, index) => (\n                <li key={index} className=\"flex items-center text-neutral-600\">\n                  <span className=\"w-2 h-2 bg-brand rounded-full mr-3\"></span>\n                  {feature}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Nutrition Info */}\n          <div>\n            <h3 className=\"text-lg font-semibold mb-3\">Nutritional Information</h3>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-neutral-600\">Protein:</span>\n                <span className=\"font-semibold\">{productDetails.nutrition.protein}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-neutral-600\">Fiber:</span>\n                <span className=\"font-semibold\">{productDetails.nutrition.fiber}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-neutral-600\">Iron:</span>\n                <span className=\"font-semibold\">{productDetails.nutrition.iron}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-neutral-600\">Calcium:</span>\n                <span className=\"font-semibold\">{productDetails.nutrition.calcium}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Price */}\n          <div className=\"text-3xl font-bold\">₹{price}</div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-4\">\n            <button\n              onClick={() => {\n                addItem({ id: \"sattu\", name: \"Sattu\", variant, price, qty: 1 });\n              }}\n              className=\"flex-1 px-6 py-3 rounded-md border border-brand text-brand hover:bg-brand hover:text-white transition-all duration-200\"\n            >\n              Add to Cart\n            </button>\n            <button\n              onClick={() => {\n                addItem({ id: \"sattu\", name: \"Sattu\", variant, price, qty: 1 });\n                router.push(`/checkout?buy=sattu&variant=${variant}`);\n              }}\n              className=\"flex-1 px-6 py-3 rounded-md bg-brand text-white hover:bg-brand/90 transition-all duration-200\"\n            >\n              Buy Now\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}